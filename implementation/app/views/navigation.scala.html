@import org.pac4j.core.profile.CommonProfile
@import business.usermanagement.SecurityRole


@(title: String, profile: CommonProfile)(content: Html)

<!-- Sidebar -->
<div id="slide-out" class="side-nav fixed">
    <img src="@routes.Assets.at("images/icon.svg")" width="240px" alt="Icon">
    <ul>
        <li><a href="@routes.TimeTrackController.index()">@Messages("views.index.home")</a></li>
        <li><a href="@routes.TimeTrackController.index()">@Messages("views.holiday.title")</a></li>
        <li><a href="@routes.TimeTrackController.index()">@Messages("views.report.title")</a></li>
        @if(profile.getRoles().contains(SecurityRole.ROLE_ADMIN)||profile.getRoles().contains(SecurityRole.ROLE_PERSONNEL_MANAGER)) {
            <li id="nav_pers_sidebar_button"><a href="@routes.TimeTrackController.index()">@Messages("views.personal.title")</a></li>
        }
        <!-- if user is admin -> add admin menu -->
        @if(profile.getRoles().contains(SecurityRole.ROLE_ADMIN)) {
            <li id="admin_dropdown" class="no-padding">
                <ul class="collapsible collapsible-accordion">
                    <li>
                        <a href="@routes.AuthenticationController.signUp()">
                        @Messages("views.admin.title")
                        </a>
                        <a class="collapsible-header">
                            <i class="mdi-navigation-arrow-drop-down"></i>
                        </a>
                        <div class="collapsible-body">
                            <ul>
                                <li><a href="@routes.AuthenticationController.signUp()">@Messages("views.admin.signup")</a></li>
                                <li><a href="@routes.UserManagementController.editUser()">@Messages("views.admin.edituser")</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </li>
        }
    </ul>
        <!-- user profile info -->
    <div class="userProfile_container grey lighten-4">
        <span>@Messages("views.navigation.loggedinas")</span><br>

        <div class="chip">
            <img src="@routes.Assets.at("images/icons_account.png")" alt="User">
            @(profile.getFirstName + " " + profile.getFamilyName)
        </div><br>

        <a id="logout-btn" class="waves-effect waves-light btn primary-btn" href="/logout?url=/">@Messages("views.index.logout")</a>
    </div>
</div>

<div class="content-wrap">
    <!-- headers -->
    <header>
        <nav class="top-nav green">
            <div class="container fullwidth-container">
                <div class="nav-wrapper">
                    <a href="#" data-activates="slide-out" class="button-collapse "><i class="mdi-navigation-menu"></i></a>
                    <h1 class="page-title">@title</h1>
                </div>
            </div>
        </nav>
    </header>


        <!-- Main content -->
    <div class="container fullwidth-container">
    @content
    </div>
</div>