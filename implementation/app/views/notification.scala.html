@import org.pac4j.core.profile.CommonProfile

@import business.notification.NotificationType
@(profile: CommonProfile, notreadnotifications: java.util.List[Notification], readnotifications: java.util.List[Notification],sentnotifications: java.util.List[Notification])

@main(Messages("views.index.title")) {

    @navigation(Messages("views.index.title"), profile) {


        <div>

            <!--  Not read Notifications   -->
            <div class="left column-sides">
                <h4>@Messages("views.notification.notreadnotifications")</h4>
                @if(!notreadnotifications.isEmpty) {
                    <ul class="collapsible" data-collapsible="accordion">
                    @for(n: Notification <- notreadnotifications) {
                        <li>
                            <div class="collapsible-header"><i class="material-icons">email</i> @(n.getType() + " : " + n.getSender.getFirstName + " " + n.getSender.getLastName)</div>
                            <div class="collapsible-body">
                                <p>@n.getMessage</p>

                                <a class="btn-floating btn-large waves-light right ghost primary-btn" href="@routes.NotificationController.acceptNotification(n.getId())">
                                    <i class="material-icons right">@Messages("views.notification.buttonaccept")</i>
                                </a>

                                @if((n.getType() == NotificationType.HOLIDAY_PAYOUT_REQUEST)
                                        || (n.getType() == NotificationType.HOLYDAY_REQUEST)
                                        || (n.getType() == NotificationType.OVERTIME_PAYOUT_REQUEST)) {

                                    <a class="btn-floating btn-large waves-light left ghost negative-btn" href="@routes.NotificationController.rejectNotification(n.getId())">
                                        <i class="material-icons right">@Messages("views.notification.buttonreject")</i>
                                    </a>
                                }

                            </div>
                        </li>
                    }
                    </ul>
                } else {
                    <p>@Messages("views.notification.nonotificationmessage")</p>
                }
            </div>

            <!--  Read and accepted/rejected Notifications  -->
            <div class="right column-center">
                <h4>@Messages("views.notification.readnotifications")</h4>
                @if(!readnotifications.isEmpty) {
                    <ul class="collapsible" data-collapsible="accordion">
                    @for(n: Notification <- readnotifications) {
                        <li>
                            <div class="collapsible-header"><i class="material-icons">email</i> @(n.getType() + " : " + n.getSender.getFirstName + " " + n.getSender.getLastName)</div>
                            <div class="collapsible-body"><p>@n.getMessage</p></div>
                        </li>
                    }
                    </ul>
                } else {
                    <p>@Messages("views.notification.nonotificationmessage")</p>
                }
            </div>

            <!-- Sent Notifications  -->
            <div class="right column-sides">
                <h4>@Messages("views.notification.sentnotifications")</h4>
                @if(!sentnotifications.isEmpty) {
                    <ul class="collapsible" data-collapsible="accordion">
                    @for(n: Notification <- sentnotifications) {
                        <li>
                            <div class="collapsible-header"><i class="material-icons">email</i> @(n.getType() + " : " + n.getSender.getFirstName + " " + n.getSender.getLastName)</div>
                            <div class="collapsible-body"><p>@n.getMessage</p></div>
                        </li>
                    }
                    </ul>
                } else {
                    <p>@Messages("views.notification.nonotificationmessage")</p>
                }
            </div>
        </div>
        <br style="clear : both ;"/>

    }
}